function t_menuWidgets__init(e) { var t = document.querySelector("#rec" + e); if (t) { var n = t.querySelector('[data-menu="yes"]'); if (n) { var r = n.getAttribute("data-menu-widgeticons-hide"), i = r && "yes" === r, o = n.getAttribute("data-menu-widgeticon-textshow"), s = o && "yes" === o; t_menuWidgets__handledSearchIcon(t, n), t_menuWidgets__handledCartIcon(t, n), t_menuWidgets__handledWishlistIcon(t, n), t_menuWidgets__handledMembersIcon(t, n), i && (t_menuWidgets__hideWidgetButtons(e, n), window.addEventListener("resize", t_throttle((function () { t_menuWidgets__hideWidgetButtons(e, n) }), 200))), s && t_menuWidgets__showWidgetsText(n) } } } function t_menuWidgets__handledSearchIcon(e, t) { var n = document.querySelector(".t985"), r = "yes" === t.getAttribute("data-menu-widgeticon-search"), i = e.querySelectorAll(".t-menuwidgeticons__link_search"); if (n && r && n.getAttribute("data-search-hook")) { var o = n.getAttribute("data-search-hook"); i.forEach((function (e) { e.href = o })) } if (!n && r) { var s = "RU" === window.browserLang ? "Ошибка: На странице отсутствует виджет поиска (блок T985). Пожалуйста, добавьте его." : "Error: search widget (block T985) is not added to this page."; i.forEach((function (e) { e.addEventListener("click", (function (e) { e.preventDefault(), document.querySelector(".t-menuwidgeticons__search-error") || t_menuWidgets__showError("search", s) })) })) } } function t_menuWidgets__handledCartIcon(e, t) { var n = document.querySelector(".t706"), r = "yes" === t.getAttribute("data-menu-widgeticon-cart"); if (!n && r) { var i = e.querySelectorAll(".t-menuwidgeticons__link_cart"), o = "RU" === window.browserLang ? "Ошибка: На странице отсутствует виджет корзины (блок ST100). Пожалуйста, добавьте его." : "Error: сart widget (block ST100) is not added to this page."; i.forEach((function (e) { e.addEventListener("click", (function (e) { e.preventDefault(), document.querySelector(".t-menuwidgeticons__cart-error") || t_menuWidgets__showError("cart", o) })) })) } } function t_menuWidgets__handledWishlistIcon(e, t) { var n = document.querySelector(".t1002"), r = "yes" === t.getAttribute("data-menu-widgeticon-wishlist"); if (!n && r) { var i = e.querySelectorAll(".t-menuwidgeticons__link_wishlist"), o = "RU" === window.browserLang ? "Ошибка: На странице отсутствует виджет избранного (блок ST110). Пожалуйста, добавьте его." : "Error: favorites widget (block ST110) is not added to this page."; i.forEach((function (e) { e.addEventListener("click", (function (e) { e.preventDefault(), document.querySelector(".t-menuwidgeticons__favorites-error") || t_menuWidgets__showError("favorites", o) })) })) } } function t_menuWidgets__handledMembersIcon(e, t) { var n = document.querySelector('script[src*="tilda-buyer-dashboard"]'), r = "yes" === t.getAttribute("data-menu-widgeticon-members"); if (!window.tildaMembers && !n && r) { var i = e.querySelectorAll(".t-menuwidgeticons__link_members"), o = "RU" === window.browserLang ? "Ошибка: В проекте отсутствует модуль Личного кабинета. Пожалуйста, подключите его." : "Error: there is no Members module in the project. Please connect it."; i.forEach((function (e) { e.addEventListener("click", (function (e) { e.preventDefault(), document.querySelector(".t-menuwidgeticons__members-error") || t_menuWidgets__showError("members", o) })) })) } } function t_menuWidgets__getVisibleMenu(e) { var t = window.innerWidth, n = e.getAttribute("data-screen-min"), r = e.getAttribute("data-screen-max"); return !(n && t < parseInt(n, 10)) && !(r && t > parseInt(r, 10)) } function t_menuWidgets__hideWidgetButtons(e, t) { var n = document.querySelector("#rec" + e), r = "t-menuwidgeticons__button_hidden_" + e, i = t_menuWidgets__getVisibleMenu(n), o;[{ element: document.querySelector(".t985__search-widget-button"), isExsists: "yes" === t.getAttribute("data-menu-widgeticon-search") }, { element: document.querySelector(".t706__carticon"), isExsists: "yes" === t.getAttribute("data-menu-widgeticon-cart") }, { element: document.querySelector(".t1002__wishlisticon"), isExsists: "yes" === t.getAttribute("data-menu-widgeticon-wishlist") }].forEach((function (e) { e.element && e.isExsists && (i ? e.element.classList.add(r) : e.element.classList.remove(r)) })) } function t_menuWidgets__showError(e, t) { var n = document.querySelectorAll(".t-menuwidgeticons__error"), r; if (n.length > 0) { var i = n[n.length - 1]; r = parseInt(window.getComputedStyle(i).top) + parseInt(window.getComputedStyle(i).height) + 20 } var o = t_menuWidgets__getErrorHtml(e, t); document.body.classList.add("t-menuwidgeticons__body-error_showed"), document.body.insertAdjacentHTML("beforeend", o); var s = document.querySelector(".t-menuwidgeticons__" + e + "-error"); setTimeout((function () { s.style.transition = "opacity .4s, right .4s", s.style.opacity = 1, s.style.right = "20px", r && (s.style.top = r + "px") }), 0), setTimeout((function () { t_menuWidgets_closeError(s) }), 3400); var c = s.querySelector(".t-menuwidgeticons__error-close"); c && c.addEventListener("click", (function () { t_menuWidgets_closeError(s) })) } function t_menuWidgets__getErrorHtml(e, t) { var n = ""; return n += '<div class="t-menuwidgeticons__error t-menuwidgeticons__' + e + '-error">', n += '<div class="t-menuwidgeticons__error-close">&times;</div>', n += '<div class="t-menuwidgeticons__error-text">' + t + "</div>", n += "</div>" } function t_menuWidgets_closeError(e) { e && (e.style.opacity = 0, e.style.right = "-350px", setTimeout((function () { null !== e.parentNode && (e.parentNode.removeChild(e), document.body.classList.remove("t-menuwidgeticons__body-error_showed")) }), 300)) } function t_menuWidgets__showWidgetsText(e) { var t = { cart: { EN: "Cart", RU: "Корзина", FR: "Panier", DE: "Warenkorb", ES: "Carrito", PT: "Carrinho", UK: "Кошик", JA: "カート", ZH: "购物车", PL: "Koszyk", KK: "Себет", IT: "Carrello", LV: "Grozs" }, wishlist: { EN: "Favorites", RU: "Избранное", FR: "Favoris", DE: "Favoriten", ES: "Favoritos", PT: "Favoritos", UK: "Вибране", JA: "お気に入り", ZH: "收藏夹", PL: "Ulubione", KK: "Таңдаулылар", IT: "Preferiti", LV: "Iecienītie" }, search: { EN: "Search", RU: "Поиск", FR: "Rechercher", DE: "Suche", ES: "Buscar", PT: "Buscar", UK: "Пошук", JA: "検索", ZH: "搜索", PL: "Szukaj", KK: "Іздеу", IT: "Cerca", LV: "Meklēt" }, members: { EN: "Sign In", RU: "Войти", FR: "Se connecter", DE: "Anmelden", ES: "Iniciar sesión", PT: "Entrar", UK: "Увійти", JA: "サインイン", ZH: "登录", PL: "Zaloguj się", KK: "Кіру", IT: "Accedi", LV: "Pieteikties" }, home: { EN: "Home", RU: "Главная", FR: "Accueil", DE: "Startseite", ES: "Inicio", PT: "Início", UK: "Головна", JA: "ホーム", ZH: "首页", PL: "Strona główna", KK: "Басты бет", IT: "Home", LV: "Sākums" }, catalog: { EN: "Catalog", RU: "Каталог", FR: "Catalogue", DE: "Katalog", ES: "Catálogo", PT: "Catálogo", UK: "Каталог", JA: "カタログ", ZH: "产品目录", PL: "Katalog", KK: "Каталог", IT: "Catalogo", LV: "Katalogs" } }, n = document.getElementById("allrecords"); if (n) { var r = (window.navigator.userLanguage || window.navigator.language).toUpperCase().slice(0, 2), i; if (!r) { var o = n.getAttribute("data-tilda-project-lang"); o && (r = o) } -1 === ["EN", "RU", "FR", "DE", "ES", "PT", "UK", "JA", "ZH", "PL", "KK", "IT", "LV"].indexOf(r) && (r = "EN"); var s = "t-menuwidgeticons__link_", c; e.querySelectorAll(".t-menuwidgeticons__link").forEach((function (e) { var n, i, o = e.className.split(" ").find((function (e) { return -1 !== e.indexOf(s) && e })).replace(s, ""), c, a = t_menuWidgets__getWidgetsTextHTML(t[o][r], o); e.insertAdjacentHTML("beforeend", a) })) } } function t_menuWidgets__getWidgetsTextHTML(e, t) { var n = ""; return n += '<span class="t-menuwidgeticons__text t-menuwidgeticons__text_' + t + ' t-text">', n += e, n += "</span>" }
